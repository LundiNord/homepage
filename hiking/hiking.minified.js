const maptilerKey="RgWztKV67Y0eRGFsVKdQ";export function getStandardLeafletMap(t){let e=L.map(t,{fullscreenControl:!0,fullscreenControlOptions:{position:"topleft"},editable:!0});e.editTools=new L.Editable(e);let r=L.tileLayer("https://tile.nyxnord.de/{z}/{x}/{y}.png",{maxZoom:19,attribution:'Daten:  &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, SRTM | Darstellung: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/" >CC-BY-SA</a>)'}).addTo(e),a=L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:'&copy; <a href="http://www.esri.com/">Esri</a>, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community',maxZoom:18}),o=L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:'Tiles &copy; <a href="http://www.esri.com/">Esri</a> &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community'}),p=L.tileLayer(`https://api.maptiler.com/maps/satellite/{z}/{x}/{y}@2x.jpg?key=${maptilerKey}`,{attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'}),i=L.tileLayer(`https://api.maptiler.com/maps/outdoor-v2/{z}/{x}/{y}@2x.png?key=${maptilerKey}`,{attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'}),n=L.maplibreGL({style:`https://api.maptiler.com/maps/topo/style.json?key=${maptilerKey}`,attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'}),l={OpenTopoMap:r,"Esri Satellite":a,"Esri Topo":o,"MapTiler Satellite":p,"MapTiler Topo":i,"MapTiler Satellite Vector":L.maplibreGL({style:`https://api.maptiler.com/maps/satellite/style.json?key=${maptilerKey}`,attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'}),"MapTiler Topo Vector":n};L.control.layers(l,null).addTo(e);return L.control.scale({imperial:!1}).addTo(e),e.on("enterFullscreen",(function(){umami.track("Entered fullscreen")})),e.on("exitFullscreen",(function(){umami.track("Exited fullscreen")})),e}export function getGPXLeafletMap(t,e,r){let a=getStandardLeafletMap(r);return new L.GPX(t,{async:!0,polyline_options:{color:"red"}},{async:!0}).on("loaded",(function(t){let r=t.target;a.fitBounds(r.getBounds());const o=document.querySelector(`.info[data-day="${e}"]`);o&&(o.querySelector(".distance").textContent=(r.get_distance()/1e3).toFixed(2),o.querySelector(".duration").textContent=r.get_duration_string(r.get_moving_time()),o.querySelector(".pace").textContent=r.get_duration_string(r.get_moving_pace(),!0))})).addTo(a),a}
